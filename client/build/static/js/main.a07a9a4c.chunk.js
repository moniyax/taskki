(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{135:function(e,t,n){e.exports=n.p+"static/media/moon.cccb61fe.svg"},136:function(e,t,n){e.exports=n.p+"static/media/sun.63bd8425.svg"},139:function(e,t,n){e.exports=n.p+"static/media/check.a69433bf.svg"},140:function(e,t,n){e.exports=n.p+"static/media/circle.7813cd76.svg"},167:function(e,t,n){e.exports=n(276)},276:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(69),o=n.n(a),i=n(10),s=n(12),d=n(7),u=n(277),l=n(126),b=n(127),p=n(11),f=n(71),j=n.n(f),g={mb:4},m={maxWidth:14,backgroundColor:"n.10",mx:"auto",mt:7,p:5,borderRadius:5,boxShadow:0},x={pb:1,mb:4},v={mb:1,fontWeight:2,color:"n.2"},O={p:2,borderRadius:3,borderColor:"n.5",backgroundColor:"n.8"},h={width:"100%",backgroundColor:"prime.2",fontSize:1,fontWeight:3,p:3,mb:3,outline:"none",cursor:"pointer"},y={width:4,mr:1},k=function(e){var t=e.input,n=e.label,r=e.type,c=e.meta,a=c.touched,o=c.error;return Object(i.c)("div",null,Object(i.c)(u.d,{className:"inputLabel",sx:v},n),Object(i.c)(u.c,Object.assign({},t,{type:r,className:"loginInput",sx:O})),a&&o&&Object(i.c)("span",null,o))},I=Object(b.a)({form:"signIn",validate:function(e){var t={};return e.email||(t.email="Required"),e.password||(t.password="Required"),t}})((function(e){var t=e.handleSubmit,n=e.err;return Object(i.c)("form",{sx:m,onSubmit:t},Object(i.c)("div",{className:"loginHeader",sx:g},Object(i.c)("div",{sx:{mb:1,fontSize:3,fontWeight:2,color:"n.2"}},"Tasski"),Object(i.c)("div",{sx:{fontSize:6,fontWeight:3,color:"n.1"}},"Log in")),n&&Object(i.c)("div",{sx:{color:"danger.2",mb:2}},Object(i.c)("img",{src:j.a,sx:y,className:"alert",alt:"alert"}),Object(i.c)("span",{sx:{lineHeight:2}}," ",n)),Object(i.c)("div",{className:"fieldGroup",sx:x},Object(i.c)(l.a,{name:"email",type:"email",label:"Email",component:k})),Object(i.c)("div",{className:"fieldGroup",sx:x},Object(i.c)(l.a,{name:"password",type:"password",label:"Password",component:k})),Object(i.c)(u.a,{sx:h},"LOG IN"),Object(i.c)("div",{sx:{textAlign:"center"}},"Don' t have an account? ",Object(i.c)(p.b,{to:"/signup"},"Sign Up")))})),S=n(6),w=n.n(S),T=n(14),E=n(26),P=n(13),C=function(e){var t=e.email,n=e.password;return P.a.post("/api/session",{json:{email:t,password:n}}).json()},F=function(e){var t=e.username,n=e.email,r=e.password;return P.a.post("/api/users",{json:{username:t,email:n,password:r}}).json()},z=function(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(n){console.log(n)}},N=Object(E.b)({name:"auth",initialState:{},reducers:{signUpStart:function(e){e.pending=!0,e.signUpError=null},signUpSuccess:function(e,t){var n=t.payload;e.currentUser=n,e.pending=!1,e.signUpError=null},signUpFailure:function(e,t){e.pending=!1,e.signUpError=t.payload},signInStart:function(e){e.pending=!0,e.signInError=null},signInSuccess:function(e,t){var n=t.payload;e.currentUser=n,e.pending=!1,e.signInError=null},signInFailure:function(e,t){e.pending=!1,e.signInError=t.payload}}}),W=N.actions,R=W.signUpStart,U=W.signUpSuccess,B=W.signUpFailure,A=W.signInStart,H=W.signInSuccess,D=W.signInFailure,G=function(e){var t;return null===(t=e.auth.currentUser)||void 0===t?void 0:t.token},L=function(e){var t;return null===(t=e.auth.signInError)||void 0===t?void 0:t.messages[0]},q=function(e){var t;return null===(t=e.auth.signUpError)||void 0===t?void 0:t.messages[0]},M=N.reducer,J=Object(d.b)((function(e){return{token:G(e),error:L(e)}}))((function(e){var t=e.token,n=e.error,r=Object(d.c)();return t?Object(i.c)(s.a,{to:"/"}):Object(i.c)("div",{sx:{height:"100vh",bg:"n.10",overflow:"auto"}},Object(i.c)(I,{onSubmit:function(e){return r(function(e){var t=e.email,n=e.password;return(function(){var e=Object(T.a)(w.a.mark((function e(r){var c,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(A()),e.next=4,C({email:t,password:n});case 4:c=e.sent,r(H(c)),z("user",c),e.next=17;break;case 9:if(e.prev=9,e.t0=e.catch(0),e.t0 instanceof P.a.HTTPError){e.next=13;break}throw e.t0;case 13:return e.next=15,e.t0.response.json();case 15:a=e.sent,r(D(a));case 17:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}(e))},err:n}))})),Y={mb:4},K={maxWidth:14,backgroundColor:"n.10",mx:"auto",mt:7,p:5,borderRadius:5,boxShadow:0},$={pb:1,mb:4},Q={mb:1,fontWeight:2,color:"n.2"},V={p:2,borderRadius:3,borderColor:"n.5",backgroundColor:"n.8"},X={width:"100%",backgroundColor:"p.2",fontSize:1,fontWeight:3,p:3,mb:3,outline:"none",cursor:"pointer"},Z={width:4,mr:1},_=function(e){var t=e.input,n=e.label,r=e.type,c=e.meta,a=c.touched,o=c.error;return Object(i.c)("div",null,Object(i.c)(u.d,{className:"inputLabel",sx:Q},n),Object(i.c)(u.c,Object.assign({},t,{type:r,className:"loginInput",sx:V})),a&&o&&Object(i.c)("span",null,o))},ee=Object(b.a)({form:"signIn",validate:function(e){var t={};return e.username||(t.username="Required"),e.email||(t.email="Required"),e.password||(t.password="Required"),t}})((function(e){var t=e.handleSubmit,n=e.err;return Object(i.c)("form",{sx:K,onSubmit:t},Object(i.c)("div",{className:"loginHeader",sx:Y},Object(i.c)("div",{sx:{mb:1,fontSize:3,fontWeight:2,color:"n.2"}},"Tasski"),Object(i.c)("div",{sx:{fontSize:6,fontWeight:3,color:"n.1"}},"Sign up")),n&&Object(i.c)("div",{sx:{color:"danger.2",mb:2}},Object(i.c)("img",{src:j.a,sx:Z,className:"alert",alt:"alert"}),Object(i.c)("span",{sx:{lineHeight:2}}," ",n)),Object(i.c)("div",{className:"fieldGroup",sx:$},Object(i.c)(l.a,{name:"username",type:"username",label:"Username",component:_})),Object(i.c)("div",{className:"fieldGroup",sx:$},Object(i.c)(l.a,{name:"email",type:"email",label:"Email",component:_})),Object(i.c)("div",{className:"fieldGroup",sx:$},Object(i.c)(l.a,{name:"password",type:"password",label:"Password",component:_})),Object(i.c)(u.a,{sx:X},"SIGN UP"),Object(i.c)("div",{sx:{textAlign:"center"}},"Already signed up? Go to ",Object(i.c)(p.b,{to:"/signin"},"Login")))})),te=Object(d.b)((function(e){return{token:G(e),error:q(e)}}))((function(e){var t=e.token,n=e.error,r=Object(d.c)();return t?c.a.createElement(s.a,{to:"/"}):c.a.createElement("div",{sx:{height:"100vh",bg:"n.10",overflow:"auto"}},c.a.createElement(ee,{onSubmit:function(e){return r(function(e){var t=e.username,n=e.email,r=e.password;return(function(){var e=Object(T.a)(w.a.mark((function e(c){var a,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(R()),e.next=4,F({username:t,email:n,password:r});case 4:a=e.sent,c(U(a)),z("user",a),e.next=17;break;case 9:if(e.prev=9,e.t0=e.catch(0),e.t0 instanceof P.a.HTTPError){e.next=13;break}throw e.t0;case 13:return e.next=15,e.t0.response.json();case 15:o=e.sent,c(B(o));case 17:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}(e))},err:n}))})),ne=Object(d.b)((function(e){return{token:G(e)}}))((function(e){var t=e.token,n=e.children;return t?c.a.createElement(c.a.Fragment,null,n):c.a.createElement(s.a,{to:"/signin"})})),re=n(19),ce=n(137),ae=n(135),oe=n.n(ae),ie=n(136),se=n.n(ie),de=function(){var e=Object(d.c)(),t=Object(ce.b)(),n=Object(re.a)(t,2),r=n[0],c=n[1];return Object(i.c)("div",{sx:{bg:"p.3",fontSize:3,p:3,color:"n.7",fontWeight:2,boxShadow:0,height:7,display:"flex",justifyContent:"space-between",zIndex:1}},Object(i.c)("div",{className:"appName"},Object(i.c)(p.b,{to:"/"},"Taskki")),Object(i.c)("div",{sx:{display:"flex"}},Object(i.c)("button",{onClick:function(){c("default"===r?"dark":"default")},sx:{fontFamily:"inherit",fontSize:2,border:0,padding:0,bg:"transparent",color:"n.6",cursor:"pointer",outline:"none",mx:2,fontWeight:3}},Object(i.c)("img",{src:"default"===r?oe.a:se.a,sx:{width:4},alt:"color mode"})),Object(i.c)("button",{onClick:function(){e({type:"logout"})},sx:{fontFamily:"inherit",fontSize:2,border:0,padding:0,bg:"transparent",color:"n.6",cursor:"pointer",outline:"none"}},"Log out")))},ue=n(4),le=n(59),be=n(9),pe=Object(E.b)({name:"tasks",initialState:{byId:{},ids:[],loading:!1,fetched:!1,error:null},reducers:{getTasksStart:function(e){e.loading=!0,e.error=null},getTasksSuccess:function(e,t){var n=t.payload,r=n.tasksById,c=n.taskIds;e.byId=r,e.ids=c,e.loading=!1,e.fetched=!0,e.error=null},getTasksFailure:function(e,t){e.loading=!1,e.error=t.payload},addTask:function(e,t){var n=t.payload,r=n.id,c=n.text;e.byId[r]={id:r,text:c,completed:!1},e.ids.push(r)},addTaskStart:function(e,t){var n=t.payload.id;e.byId[n].syncing=!0,e.byId[n].error=null},addTaskSuccess:function(e,t){var n=t.payload,r=n.id;e.byId[r]=n,e.byId[r].syncing=!1,e.byId[r].error=null},addTaskFailure:function(e,t){var n=t.payload,r=n.id;e.byId[r].syncing=!1,e.byId[r].error=n},updateTask:function(e,t){var n=t.payload,r=n.id;e.byId[r]=Object(ue.a)(Object(ue.a)({},e.byId[r]),n)},updateTaskStart:function(e,t){var n=t.payload.id;e.byId[n].syncing=!0,e.byId[n].error=null},updateTaskSuccess:function(e,t){var n=t.payload,r=n.id;e.byId[r]=n,e.byId[r].syncing=!1,e.byId[r].error=null},updateTaskFailure:function(e,t){var n=t.payload,r=n.id;e.byId[r].syncing=!1,e.byId[r].error=n},deleteTask:function(e,t){var n=t.payload.id;e.ids=e.ids.filter((function(e){return e!==n})),delete e.byId[n]},deleteTaskStart:function(e,t){var n=t.payload.id;e.byId[n].syncing=!0,e.byId[n].error=null},deleteTaskSuccess:function(e,t){var n=t.payload,r=n.id;e.byId[r]=n,e.byId[r].syncing=!1,e.byId[r].error=null},deleteTaskFailure:function(e,t){var n=t.payload,r=n.id;e.byId[r].syncing=!1,e.byId[r].error=n}}}),fe=pe.actions,je=fe.addTask,ge=fe.addTaskStart,me=fe.addTaskFailure,xe=fe.getTasksStart,ve=fe.getTasksSuccess,Oe=fe.getTasksFailure,he=fe.addTaskSuccess,ye=fe.updateTask,ke=fe.updateTaskStart,Ie=fe.updateTaskSuccess,Se=fe.updateTaskFailure,we=(fe.deleteTask,fe.deleteTaskStart,fe.deleteTaskSuccess,fe.deleteTaskFailure,function(e){return e.ids.map((function(t){return e.byId[t]})).filter((function(e){return!e.archived}))}),Te=function(e,t){return e.tasks.byId[t]},Ee=pe.reducer,Pe=Object(E.b)({name:"projects",initialState:{byId:{},ids:[],loading:!1,fetched:!1,error:null},reducers:{getProjectsStart:function(e){e.loading=!0,e.error=null},getProjectsSuccess:function(e,t){var n=t.payload,r=n.projectsById,c=n.projectIds;e.byId=r,e.ids=c,e.loading=!1,e.error=null,e.fetched=!0},getProjectsFailure:function(e,t){e.loading=!1,e.error=t.payload},addProject:function(e,t){var n=t.payload,r=n.id,c=n.text;e.byId[r]={id:r,text:c,completed:!1},e.ids.push(r)},addProjectStart:function(e,t){var n=t.payload.id;e.byId[n].syncing=!0,e.byId[n].error=null},addProjectSuccess:function(e,t){var n=t.payload,r=n.id;e.byId[r]=n,e.byId[r].syncing=!1,e.byId[r].error=null},addProjectFailure:function(e,t){var n=t.payload,r=n.id;e.byId[r].syncing=!1,e.byId[r].error=n},updateProject:function(e,t){var n=t.payload,r=n.id;e.byId[r]=Object(ue.a)(Object(ue.a)({},e.byId[r]),n)},updateProjectStart:function(e,t){var n=t.payload.id;e.byId[n].syncing=!0,e.byId[n].error=null},updateProjectSuccess:function(e,t){var n=t.payload,r=n.id;e.byId[r]=n,e.byId[r].syncing=!1,e.byId[r].error=null},updateProjectFailure:function(e,t){var n=t.payload,r=n.id;e.byId[r].syncing=!1,e.byId[r].error=n},deleteProject:function(e,t){var n=t.payload.id;e.ids=e.ids.filter((function(e){return e!==n})),delete e.byId[n]},deleteProjectStart:function(e,t){var n=t.payload.id;e.byId[n].syncing=!0,e.byId[n].error=null},deleteProjectSuccess:function(e,t){var n=t.payload,r=n.id;e.byId[r]=n,e.byId[r].syncing=!1,e.byId[r].error=null},deleteProjectFailure:function(e,t){var n=t.payload,r=n.id;e.byId[r].syncing=!1,e.byId[r].error=n}}}),Ce=Pe.actions,Fe=(Ce.addProject,Ce.addProjectStart,Ce.addProjectFailure,Ce.getProjectsStart),ze=Ce.getProjectsSuccess,Ne=Ce.getProjectsFailure,We=(Ce.addProjectSuccess,Ce.updateProject,Ce.updateProjectStart,Ce.updateProjectSuccess,Ce.updateProjectFailure,Ce.deleteProject,Ce.deleteProjectStart,Ce.deleteProjectSuccess,Ce.deleteProjectFailure,Pe.reducer),Re=n(128),Ue=n(138),Be=(Object(Ue.createLogger)({predicate:function(e,t){return!t.type.startsWith("@@redux-form")}}),Object(le.a)(Object(E.c)()));var Ae=Object(be.c)({tasks:Ee,projects:We,form:Re.a,auth:M}),He=Object(E.a)({reducer:function(e,t){return"logout"===t.type&&(localStorage.removeItem("user"),e=void 0),Ae(e,t)},preloadedState:{auth:{currentUser:function(e){try{var t=localStorage.getItem(e);if(null===t)return;return JSON.parse(t)}catch(n){return}}("user")}},middleware:Be}),De=P.a.extend({hooks:{beforeRequest:[function(e){var t=G(He.getState());t&&e.headers.set("Authorization",'Token token="'+t+'"')}]}}),Ge=function(e){var t=e.projectId;return De.get("/api/projects/".concat(t,"/tasks")).json()},Le=function(e){var t=e.id,n=e.text,r=e.projectId;return De.post("/api/projects/".concat(r,"/tasks"),{json:{id:t,text:n}}).json()},qe=function(e){var t=e.id;return De.patch("/api/tasks/".concat(t),{json:e}).json()},Me=n(76),Je=n(45),Ye=[new Je.b.Entity("tasks")],Ke=function(e){return function(){var t=Object(T.a)(w.a.mark((function t(n){var r,c,a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.id,t.prev=1,n(ke(e)),n(ye(e)),t.next=6,qe(e);case 6:c=t.sent,n(Ie(c)),t.next=19;break;case 10:if(t.prev=10,t.t0=t.catch(1),t.t0 instanceof P.a.HTTPError){t.next=14;break}throw t.t0;case 14:return t.next=16,t.t0.response.json();case 16:a=t.sent,n(Se(Object(ue.a)(Object(ue.a)({},a),{},{id:r}))),console.error("updateTaskFailure:",a);case 19:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},$e=n(139),Qe=n.n($e),Ve=n(140),Xe=n.n(Ve),Ze=n(2),_e=n.n(Ze),et=(_e.a.string,_e.a.bool,_e.a.string,_e.a.bool,_e.a.object,_e.a.bool,_e.a.string,_e.a.bool,_e.a.bool,_e.a.object,_e.a.bool,function(e){var t=e?{textDecoration:"line-through",color:"n.4"}:{};return Object(ue.a)(Object(ue.a)({},{px:1,width:"100%",py:3}),t)}),tt=function(e){var t=e.id,n=e.text,r=e.completed,c=e.projectId,a=Object(d.c)();return Object(i.c)("div",{sx:{display:"flex",borderBottom:"1px solid #000",borderColor:"n.6",alignItems:"center"}},Object(i.c)("span",{onClick:function(){a(Ke({id:t,completed:!r}))}},Object(i.c)("input",{type:"checkbox",defaultChecked:r,sx:{display:"none","& + span":{color:"red",display:"inline-block",width:"16px",height:"16px",backgroundSize:"16px",cursor:"pointer",mr:1,backgroundImage:"url(".concat(Xe.a,")")},"&:checked + span":{backgroundImage:"url(".concat(Qe.a,")"),border:"none"}}}),Object(i.c)("span",null)),Object(i.c)(p.b,{to:"/projects/".concat(c,"/tasks/").concat(t),sx:Object(ue.a)({color:"n.1",textDecoration:"none",width:"100%"},et(r)),key:t},n))},nt={fontSize:5,fontWeight:3,width:"100%",color:"n.1"},rt=function(e){var t=e.setEditing,n=e.text,c=Object(r.useRef)(null),a=Object(d.c)(),o=Object(s.h)().taskId;Object(r.useEffect)((function(){c.current.focus()}));var u=Object(r.useState)(n),l=Object(re.a)(u,2),b=l[0],p=l[1],f=function(e){t(!1),a(Ke({id:o,text:e}))};return Object(i.c)("input",{type:"text",sx:nt,value:b,onChange:function(e){p(e.target.value)},onKeyDown:function(e){13===e.keyCode?f(e.target.value):27===e.keyCode&&t(!1)},onBlur:function(e){f(e.target.value)},ref:c})},ct={fontSize:5,fontWeight:3,width:"100%",color:"n.1"},at={cursor:"pointer"},ot=function(e){var t=e.setEditing,n=e.text;return Object(i.c)("div",{sx:Object(ue.a)(Object(ue.a)({},ct),at),onClick:function(){t(!0)}},n)},it=function(e){var t=e.text,n=Object(r.useState)(!1),c=Object(re.a)(n,2),a=c[0],o=c[1],s=a?Object(i.c)(rt,{setEditing:o,text:t}):Object(i.c)(ot,{setEditing:o,text:t});return Object(i.c)("div",{sx:{mb:5}},s)},st={textAlign:"center",bg:"n.8",borderBottomLeftRadius:4,borderBottomRightRadius:4,p:3},dt={color:"a.2",bg:"transparent",fontWeight:3,outline:"none",cursor:"pointer"},ut={bg:"#fff",fontWeight:3,outline:"none",border:"1px solid",borderColor:"a2.2",color:"a2.2",cursor:"pointer"},lt=function(e){var t=e.id,n=e.completed,r=Object(d.c)(),c=Object(s.g)();return Object(i.c)("div",{sx:st},Object(i.c)(u.a,{sx:dt,onClick:function(){r(function(e){var t=e.id;return Ke({id:t,archived:!0})}({id:t})),c.push("/")}},"Archive"),Object(i.c)(u.a,{sx:ut,onClick:function(){r(Ke({id:t,completed:!n}))}},n?"Uncomplete":"Complete"))},bt=n(141),pt=n.n(bt),ft=function(e){var t=e.createdAt;return Object(i.c)("div",null,Object(i.c)(u.e,{sx:{fontSize:1,color:"n.3",mb:2},variant:"caps"},"Created On"),Object(i.c)("div",{sx:{fontSize:2}},pt()(t).format("MMMM Do YYYY")))},jt={width:"100%",color:"n.1",outline:"none",borderColor:"n.4",borderRadius:3},gt=function(e){var t=e.setEditing,n=e.notes,c=Object(r.useRef)(null),a=Object(d.c)(),o=Object(s.h)().taskId;Object(r.useEffect)((function(){c.current.focus()}));var u=Object(r.useState)(n),l=Object(re.a)(u,2),b=l[0],p=l[1],f=function(e){t(!1),a(Ke({id:o,notes:e}))};return Object(i.c)("textarea",{sx:jt,value:b,onChange:function(e){p(e.target.value)},onKeyDown:function(e){13===e.keyCode?f(e.target.value):27===e.keyCode&&t(!1)},onBlur:function(e){f(e.target.value)},ref:c})},mt=function(e){var t=e.notes,n=e.setEditing;return Object(i.c)("div",{sx:{cursor:"pointer"},onClick:function(){n(!0)}},t)},xt=function(e){var t=e.setEditing;return Object(i.c)("div",{sx:{border:"1px solid",borderColor:"n.4",p:3,borderRadius:4,cursor:"pointer",borderStyle:"dashed"},onClick:function(){t(!0)}},Object(i.c)(u.e,{sx:{fontSize:0,color:"n.3",mb:1,textAlign:"center"},variant:"caps"},"Click to add"))},vt=function(e){var t=e.notes,n=e.setEditing,r=e.editing?Object(i.c)(gt,{setEditing:n,notes:t}):Object(i.c)(mt,{setEditing:n,notes:t});return Object(i.c)("div",{sx:{mb:4}},r)},Ot=function(e){var t=e.notes,n=Object(r.useState)(!1),c=Object(re.a)(n,2),a=c[0],o=c[1];return t||a?Object(i.c)(vt,{notes:t,editing:a,setEditing:o}):Object(i.c)(xt,{setEditing:o})},ht=function(e){var t=e.notes;return Object(i.c)("div",{sx:{mb:5}},Object(i.c)(u.e,{sx:{fontSize:1,color:"n.3",mb:2},variant:"caps"},"NOTES"),Object(i.c)(Ot,{notes:t}))},yt={position:"absolute",backgroundColor:"hsl(0,0%,0%,0.2)",left:0,right:0,top:0,bottom:0},kt={maxWidth:"600px",width:"80%",position:"absolute",left:0,right:0,margin:"auto",background:"white",boxShadow:9,pt:3,borderRadius:4,color:"n.1"},It={position:"absolute",top:0,right:0,color:"n.4",cursor:"pointer",width:5},St=Object(s.i)(Object(d.b)((function(e,t){var n=t.match.params;return{task:Te(e,n.taskId)}}))((function(e){var t=e.task,n=Object(s.g)(),r=t.text,c=t.id,a=t.completed,o=t.createdAt,d=t.notes;return Object(i.c)("div",null,Object(i.c)("div",{className:"modalBackdrop",sx:yt,onClick:function(){return n.push("/projects/".concat(t.projectId))}}),Object(i.c)("div",{className:"modal",sx:kt,onClick:function(e){return e.preventDefault()}},Object(i.c)("div",{sx:{p:3,px:5}},Object(i.c)(u.b,{sx:It,onClick:function(){return n.push("/")}}),Object(i.c)(it,{text:r}),Object(i.c)(ht,{notes:d}),Object(i.c)(ft,{createdAt:o})),Object(i.c)(lt,{id:c,completed:a})))}))),wt=Object(d.b)((function(e){var t,n=e.tasks,r=e.projects;return{isProjectsFetched:(t=r,t.fetched),tasks:we(n)}}))((function(e){var t=e.tasks,n=e.isProjectsFetched,c=Object(s.h)().projectId,a=Object(s.h)().taskId,o=Object(d.c)();Object(r.useEffect)((function(){n&&o(function(e){var t=e.projectId;return(function(){var e=Object(T.a)(w.a.mark((function e(n){var r,c,a,o,i,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(xe()),e.next=4,Ge({projectId:t});case 4:r=e.sent,c=Object(Je.a)(r,Ye),a=c.entities,o=c.result,i=a.tasks||{},n(ve({tasksById:i,taskIds:o})),e.next=20;break;case 11:if(e.prev=11,e.t0=e.catch(0),e.t0 instanceof P.a.HTTPError){e.next=15;break}throw e.t0;case 15:return e.next=17,e.t0.response.json();case 17:s=e.sent,n(Oe(s)),console.error("getTasksFailure:",s);case 20:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())}({projectId:c}))}),[c,n,o]);var u=Object(r.useCallback)((function(e){return t.filter(e).map((function(e){return Object(i.c)(tt,{key:e.id,id:e.id,projectId:c,text:e.text,completed:e.completed})}))}),[t,c]);return Object(i.c)("div",{className:"tasklist"},a&&t.length>0&&Object(i.c)(St,{taskId:a}),u((function(e){return!e.completed})),u((function(e){return e.completed})))})),Tt=n(51),Et=Object(b.a)({form:"taskForm"})(Object(d.b)(null,(function(e){return{reset:function(){return e(Object(Tt.a)("taskForm"))}}}))((function(e){var t=e.handleSubmit,n=e.reset;return Object(i.c)("form",{onSubmit:t},Object(i.c)(l.a,{component:"textarea",name:"taskText",rows:3,onKeyDown:function(e){return function(t){13===t.keyCode&&(t.preventDefault(),e(),n())}}(t),sx:{width:"100%",borderRadius:4,borderColor:"n.4",color:"n.1",p:2,outline:"none"}}))}))),Pt=P.a.extend({hooks:{beforeRequest:[function(e){var t=G(He.getState());t&&e.headers.set("Authorization",'Token token="'+t+'"')}]}}),Ct=[new Je.b.Entity("projects")],Ft=function(){var e=Object(s.h)().projectId,t=Object(d.c)();Object(r.useEffect)((function(){t(function(){var e=Object(T.a)(w.a.mark((function e(t){var n,r,c,a,o,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(Fe()),e.next=4,Pt.get("/api/projects").json();case 4:n=e.sent,r=Object(Je.a)(n,Ct),c=r.entities,a=r.result,o=c.projects||{},t(ze({projectsById:o,projectIds:a})),e.next=20;break;case 11:if(e.prev=11,e.t0=e.catch(0),e.t0 instanceof P.a.HTTPError){e.next=15;break}throw e.t0;case 15:return e.next=17,e.t0.response.json();case 17:i=e.sent,t(Ne(i)),console.error("getProjectsFailure:",i);case 20:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())}),[t]);return Object(i.c)("div",{sx:{px:7,bg:"n.10",fontSize:2,flex:"1 1"}},Object(i.c)(wt,null),Object(i.c)(Et,{onSubmit:function(n){var r,c=n.taskText;t((r={text:c,projectId:e},function(){var e=Object(T.a)(w.a.mark((function e(t){var n,c,a,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(Me.v4)(),c=Object(ue.a)(Object(ue.a)({},r),{},{id:n}),e.prev=2,t(je(c)),t(ge(c)),e.next=7,Le(c);case 7:a=e.sent,t(he(a)),e.next=20;break;case 11:if(e.prev=11,e.t0=e.catch(2),e.t0 instanceof P.a.HTTPError){e.next=15;break}throw e.t0;case 15:return e.next=17,e.t0.response.json();case 17:o=e.sent,t(me(Object(ue.a)(Object(ue.a)({},o),{},{id:n}))),console.error("addTaskFailure:",o);case 20:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()))}}))},zt=function(e){var t=e.name,n=e.id;return Object(i.c)("li",{sx:{py:1}},Object(i.c)(p.b,{to:"/projects/".concat(n)},t))},Nt={width:"300px",bg:"n.8",m:"0",listStyleType:"none",pl:9},Wt=Object(d.b)((function(e){var t,n=e.projects;return{projects:(t=n,t.ids.map((function(e){return t.byId[e]})).filter((function(e){return!e.archived})))}}))((function(e){var t=e.projects;return Object(i.c)("ul",{sx:Nt},Object(i.c)("h2",{sx:{fontSize:2,fontWeight:3}},"Projects"),t.map((function(e){return Object(i.c)(zt,{key:e.id,id:e.id,name:e.name})})))})),Rt={display:"flex",flex:1},Ut=function(){return Object(i.c)(ne,null,Object(i.c)(c.a.Fragment,null,Object(i.c)(de,null),Object(i.c)("div",{sx:Rt},Object(i.c)(Wt,null),Object(i.c)(Ft,null))))},Bt=function(){return Object(i.c)("div",{sx:{height:"100vh",fontSize:2,fontFamily:"body",bg:"n.10",overflow:"auto",display:"flex",flexDirection:"column"}},Object(i.c)(s.d,null,Object(i.c)(s.b,{path:"/signin",component:J}),Object(i.c)(s.b,{path:"/signup",component:te}),Object(i.c)(s.b,{exact:!0,path:"/projects/:projectId/tasks/:taskId",component:Ut}),Object(i.c)(s.b,{exact:!0,path:"/projects/:projectId",component:Ut}),Object(i.c)(s.b,{exact:!0,path:"/",component:Ut})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var At=n(278),Ht='"Avenir Next", -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif',Dt={body:Ht,heading:Ht,monospace:"Menlo, monospace"},Gt=[0,4,8,12,16,24,32,40,48,64,96,128,192,256,384,512,640,768],Lt=Gt,qt=[10,12,14,16,18,20,24,30,36,48,60,72];qt.body=qt[2],qt.display=qt[5];var Mt=["rgb(96, 25, 26)","rgb(135, 38, 31)","rgb(181, 34, 38)","rgb(218, 50, 54)","rgb(226, 101, 103)","rgb(241, 169, 170)","rgb(251, 232, 232)"],Jt=["hsl(213deg 12% 15%)","hsl(210deg 10% 23%)","hsl(187deg 5% 30%)","hsl(210deg 7% 56%)","hsl(210deg 11% 71%)","hsl(210deg 14% 83%)","hsl(210deg 14% 89%)","hsl(210deg 16% 93%)","hsl(210deg 17% 95%)","hsl(210deg 17% 98%)","hsl(210deg 17% 100%)"],Yt=["hsl(179deg 53% 18%)","hsl(174deg 53% 26%)","hsl(174deg 50% 38%)","hsl(174deg 45% 47%)","hsl(177deg 56% 65%)","hsl(176deg 67% 80%)","hsl(177deg 100% 95%)"],Kt=["rgb(23, 80, 56)","rgb(31, 118, 67)","rgb(45, 156, 90)","rgb(64, 192, 117)","rgb(120, 216, 161)","rgb(170, 237, 194)","rgb(228, 252, 236)"],$t={text:Jt[5],background:Jt[0],primary:Mt[2],n:Jt,p:Mt,a:Yt,a2:Kt,accent2:Kt,danger:Mt},Qt={text:Jt[0],background:Jt[5],primary:Mt[2],n:Jt,p:Mt,a:Yt,a2:Kt,accent:Yt,accent2:Kt,danger:Mt},Vt={fonts:Dt,colors:Object(ue.a)(Object(ue.a)({},Qt),{},{modes:{dark:$t}}),sizes:Lt,space:Gt,fontSizes:qt,fontWeights:[400,500,600,700],borderWidths:[0,1,2,3,4,5,6],radii:[0,2,3,4,6,8,12,16],letterSpacings:[.5,1,2],shadows:["0 1px 3px hsla(0,0%,0%,.2)","0 4px 6px hsla(0,0%,0%,.2)","0 5px 15px hsla(0,0%,0%,.2)","0 10px 24px hsla(0,0%,0%,.2)","0 15px 35px hsla(0,0%,0%,.2)","0 1px 3px hsla(0,0%,0%,.12),0 1px 2px hsla(0,0%,0%,.24)","0 3px 6px hsla(0,0%,0%,.15),0 2px 4px hsla(0,0%,0%,.12)","0 3px 6px hsla(0,0%,0%,.10),0 10px 20px hsla(0,0%,0%,.15)","0 15px 25px hsla(0,0%,0%,.15),0 5px 10px hsla(0,0%,0%,.5)","0 20px 40px hsla(0,0%,0%,.2)"],text:{default:{color:"text",fontSize:3},caps:{textTransform:"uppercase"},heading:{fontFamily:"heading",fontWeight:"heading",lineHeight:"heading"}}};o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(d.a,{store:He},c.a.createElement(At.a,{theme:Vt},c.a.createElement(p.a,null,c.a.createElement(Bt,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},71:function(e,t,n){e.exports=n.p+"static/media/alert.75219400.svg"}},[[167,1,2]]]);
//# sourceMappingURL=main.a07a9a4c.chunk.js.map